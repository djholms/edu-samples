#create cluster

# Step 0
# create Jenkins

kubectl create ns jenkins
kubectl create -f jenkins-deployment.yaml
kubectl apply -f jenkins-deployment.yaml
kubectl get deployment
kubectl  describe deployments

#! Run service as load balancer
kubectl expose deployment jenkins-deployment --type=LoadBalancer
#kubectl create -f jenkins-service.yaml --type=LoadBalancer


# Step 1
# create secret 
kubectl apply -f ./taks1/secret_jenkins.txt

# Create configmap
kubectl create configmap jenkins-plugins --from-file=./taks1/plugins.txt 
kubectl get configmaps
kubectl describe configmaps jenkins-pluggins

